<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>CheeseBurger - Investment Situation Board</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/freelancer.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://momentjs.com/downloads/moment-with-locales.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <link rel='manifest' href='manifest.json'>

    <link rel="apple-touch-icon" sizes="192x192" href="icon/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon/icon-512x512.png"> 
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">
<div id="skipnav"><a href="#maincontent">Skip to main content</a></div>

    <!-- Navigation -->
    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top navbar-custom">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="#page-top">CheeseBurger</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#today">Today</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#earning">Earning</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#analysis">Analysis</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header>
        <div class="container" id="maincontent" tabindex="-1">
            <div class="row">
                <div class="col-lg-12">
                    <!-- <img class="img-responsive" src="img/profile.png" alt=""> -->
                    <div class="intro-text">
                        <h1 class="name">Investment Situation Board</h1>
                        <hr class="star-light">
                        <span class="skills">Algorithmic Trading test</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Today Section -->
    <section id="today">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Today</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <p> Last Update </p>
                    <h3 id="lastupdate"> March 2, 2020</h3>
                    <p> <br> </p>
                </div>
            </div>
            <div class="row">
                <div class="footer-col col-md-6 text-center">
                    <h2 id="DayRateReturn"> 1.00% </h2>
                    <p> per day </p>
                    <p> Rate of Return </p>  
                    <p> <br> </p>           
                </div>
                <div class="footer-col col-md-6 text-center">
                    <h2 id="DayProfit"> + 30,000 </h2>
                    <p> won </p>
                    <p> Today's Profit </p>  
                    <p> <br> </p> 
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h3> 路 Strategic Model 1 路 </h3>
                    <p> <br> </p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <table border="0" bordercolor="gray" align="center" style="table-layout: auto; width:80%; height:200px">
                        <tr align="center" style="background:whitesmoke;">
                            <td style="width:30%"> &nbsp; </td>
                            <td style="width:17.5%"> Yesterday Close </td>
                            <td style="width:17.5%"> Today Open </td>
                            <td style="width:17.5%"> Buy </td>
                            <td style="width:17.5%"> Result </td>
                        </tr>
                        <tr align="center" >
                            <td> <a href="https://finance.naver.com/item/main.nhn?code=229200">KOSDAQ150</a> </td>
                            <td id='closeyest1'> - </td>
                            <td id='open1'> - </td>
                            <td id='amount1'> - </td>
                            <td id='result1'> - </td>
                        </tr>
                        <tr align="center">
                            <td> <a href="https://finance.naver.com/item/main.nhn?code=244580">Bio Ind.</a> </td>
                            <td id='closeyest2'> - </td>
                            <td id='open2'> - </td>
                            <td id='amount2'> - </td>
                            <td id='result2'> - </td>
                        </tr>
                        <tr align="center">
                            <td> <a href="https://finance.naver.com/item/main.nhn?code=091160">Semicond. Id.</a> </td>
                            <td id='closeyest3'> - </td>
                            <td id='open3'> - </td>
                            <td id='amount3'> - </td>
                            <td id='result3'> - </td>
                        </tr>
                        <tr align="center">
                            <td> Total </td>
                            <td id='closeyest4'>  </td>
                            <td id='open4'>  </td>
                            <td id='amount4'>  </td>
                            <td id='result4'> - </td>
                        </tr>
                    </table>
                    <p> <br> </p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h3> 路 Strategic Model 2 路 </h3>
                    <p> <br> </p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <table border="0" bordercolor="gray" align="center" style="table-layout: auto; width:80%; height:250px">
                        <tr align="center" style="background:whitesmoke;">
                            <td style="width:30%"> Stock Code </td>
                            <td style="width:17.5%"> Buy </td>
                            <td style="width:17.5%"> Price </td>
                            <td style="width:17.5%"> Retention </td>
                            <td style="width:17.5%"> Profit </td>
                        </tr>
                        <tr align="center" >
                            <td> <span id="m1code1"> - </span> </td>
                            <td id="m1buy1"> - </td>
                            <td id="m1price1"> - </td>
                            <td id="m1retention1"> - </td>
                            <td id="m1result1"> - </td>
                        </tr>
                        <tr align="center" >
                            <td> <span id="m1code2"> - </span> </td>
                            <td id="m1buy2"> - </td>
                            <td id="m1price2"> - </td>
                            <td id="m1retention2"> - </td>
                            <td id="m1result2"> - </td>
                        </tr>                        
                        <tr align="center" >
                            <td> <span id="m1code3"> - </span> </td>
                            <td id="m1buy3"> - </td>
                            <td id="m1price3"> - </td>
                            <td id="m1retention3"> - </td>
                            <td id="m1result3"> - </td>
                        </tr>
                        <tr align="center" >
                            <td> <span id="m1code4"> - </span> </td>
                            <td id="m1buy4"> - </td>
                            <td id="m1price4"> - </td>
                            <td id="m1retention4"> - </td>
                            <td id="m1result4"> - </td>
                        </tr>
                        <tr align="center" >
                            <td> <span id="m1code5"> - </span> </td>
                            <td id="m1buy5"> - </td>
                            <td id="m1price5"> - </td>
                            <td id="m1retention5"> - </td>
                            <td id="m1result5"> - </td>
                        </tr>
                        <tr align="center">
                            <td> Total </td>
                            <td> </td>
                            <td> </td>
                            <td> </td>
                            <td id='m1result6'> - </td>
                        </tr>
                    </table>
                    <p> <br> </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Earning Section -->
    <section id="earning">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Earning</h2>
                    <hr class="star-primary"> </hr>
                    <p> <br> </p> 
                </div>
            </div>
            <div class="row">
                <div class="footer-col col-md-6 text-center">
                    <h2 id="TotalRateReturn"> 100% </h2>
                    <p> per year </p>
                    <p> Rate of Return (Estimation) </p>  
                    <p> <br> </p>           
                </div>
                <div class="footer-col col-md-6 text-center">
                    <h2 id="TotalEst"> 1,000,000 </h2>
                    <p> won </p>
                    <p> Current Valuation </p>  
                    <p> <br> </p> 
                </div>
            </div>
            <div class="row">
                <p> <br> </p>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <canvas id="myChart"></canvas>
                    <p> <br> </p> 
                </div>
            </div>
            <div class="row">
                <p> <br> </p>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <table border="0" bordercolor="gray" align="center" style="table-layout: auto; width:80%; height:200px">
                        <tr align="center" style="background:whitesmoke;">
                            <td style="width:25%"> &nbsp; </td>
                            <td style="width:15%"> Balance </td>
                            <td style="width:15%"> Model 1 </td>
                            <td style="width:15%"> Model 2 </td>
                            <td style="width:15%"> KOSPI </td>
                            <td style="width:15%"> KOSDAQ </td>
                        </tr>
                        <tr align="center" >
                            <td> 1-Month Return </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                        <tr align="center">
                            <td> 3-Month Return </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                        <tr align="center">
                            <td> 6-Month Return </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                        <tr align="center">
                            <td> 1-Year Return </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                    </table>
                    <p> Time-to-Period Rate of Return </p>
                    <p> <br> </p>
                </div>
                <div class="col-lg-12 text-center">
                    <table border="0" bordercolor="gray" align="center" style="table-layout: auto; width:80%; height:200px">
                        <tr align="center" style="background:whitesmoke;">
                            <td style="width:25%"> &nbsp; </td>
                            <td style="width:15%"> Balance </td>
                            <td style="width:15%"> Model 1 </td>
                            <td style="width:15%"> Model 2 </td>
                            <td style="width:15%"> KOSPI </td>
                            <td style="width:15%"> KOSDAQ </td>
                        </tr>
                        <tr align="center" >
                            <td> 1-Month MDD </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                        <tr align="center">
                            <td> 3-Month MDD </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                        <tr align="center">
                            <td> 6-Month MDD </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                        <tr align="center">
                            <td> 1-Year MDD </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                            <td> - </td>
                        </tr>
                    </table>
                    <p> Time-to-Period Max Draw Down </p>
                </div>
            </div>
        </div>
</section>

    <!-- Analysis Grid Section -->
    <section id="analysis">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Analysis</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h3> 路 Strategic Model 1 路 </h3>
                    <p> ETF transactions using short-term ATR and long-term TTF </p>
                    <p> <br> </p>
                </div>
            </div>
            <div class="row">
                <div class="footer-col col-md-6 text-center">
                    <h2 id="model1rr"> NN% </h2>
                    <p> per year </p>
                    <p> Rate of Return (Estimation) </p>  
                    <p> <br> </p>           
                </div>
                <div class="footer-col col-md-6 text-center">
                    <h2 id = "model1est"> NN </h2>
                    <p> won </p>
                    <p> Current Valuation </p>  
                    <p> <br> </p> 
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <canvas id="Model1" height="150px"></canvas>
                    <p> <br> </p> 
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4 text-center">
                    <p> - KOSDAQ 150 EFT - </p>
                    <h2> 7% </h2>
                    <p> per year </p>
                    <p> Rate of Return (Estimation) </p>
                    <p> <br> </p> 
                    <canvas id="ETF-KOSDAQ" height="250px"></canvas>
                    <p> <br> </p>  
                </div>
                <div class="col-sm-4 text-center">
                    <p> - Bio ind. ETF - </p>
                    <h2> 32% </h2>
                    <p> per year </p>
                    <p> Rate of Return (Estimation) </p>
                    <p> <br> </p> 
                    <canvas id="ETF-Bio" height="250px"></canvas>
                    <p> <br> </p> 
                </div>
                <div class="col-sm-4 text-center">
                    <p> - Semicon ind. ETF - </p>
                    <h2> 15% </h2>
                    <p> per year </p>
                    <p> Rate of Return (Estimation) </p>
                    <p> <br> </p> 
                    <canvas id="ETF-SemiCon" height="250px"></canvas>
                    <p> <br> </p> 
 
                </div>
            </div>
            <div class-"row">
                <p> <br> </p>
                <p> <br> </p>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h3> 路 Strategic Model 2 路 </h3>
                    <p> Search surging stocks and trend following </p>
                    <p> <br> </p>
                </div>
            </div>
            <div class="row">
                <div class="footer-col col-md-6 text-center">
                    <h2 id = "model2rr"> NN% </h2>
                    <p> per year </p>
                    <p> Rate of Return (Estimation) </p>  
                    <p> <br> </p>           
                </div>
                <div class="footer-col col-md-6 text-center">
                    <h2 id = "model2est"> NN </h2>
                    <p> won </p>
                    <p> Current Valuation </p>  
                    <p> <br> </p> 
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <canvas id="Model2" height="150px"></canvas>
                    <p> <br> </p> 

                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-6">
                        <h3>About Project</h3>
                        <p>CheeseBurger is a algorithmic tradingbot based on Kiwoom Api target to Korean stock market.</p>
                    </div>
                    <div class="footer-col col-md-6">
                        <h3>Contributor</h3>
                        <p>Created by <a href="https://github.com/pinipaper">pinipaper</a> and <a href="https://github.com/Jeonghwan-Cheon">Jeonghwan-Cheon</a> since 2020.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; CheeseBurger 2020
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll hidden-sm hidden-xs hidden-lg hidden-md">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>
    
    <!-- jQuery -->
    <script src="vendor/jquery/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/freelancer.js"></script>

    <script>
        function nonNullSum(array){
            var sum = 0,
                i=0;
            for (i=0; i<array.length; i++) {
                if(array[i]!=null) sum += parseInt(array[i]);
            }
            return sum;
        }

        var data = [],
            yesterday_close = [],
            open = [],
            amount = [],
            result = [];

        var spreadsheetId = "1K5xSchNJyX7lfygCngh6Vc0tJpDwRdeDL28bhdziaJk",
            url = "https://spreadsheets.google.com/feeds/list/" +
                    spreadsheetId +
                    "/3/public/basic?alt=json";

        $.get({
            url: url,
            async: false,
            success: function(response) {
                data = response.feed.entry;
                var len = data.length;
                for (i = 0; i < len; i++) {
                    console.log(data);
                    yesterday_close.push(data[i].content.$t.split(' ')[1].replace(',', ''));
                    open.push(data[i].content.$t.split(' ')[3].replace(',', ''));
                    amount.push(data[i].content.$t.split(' ')[5].replace(',', ''));
                    result.push(data[i].content.$t.split(' ')[7].replace(',', ''));
                }
                console.log(data);
            }
        });
        for (i = 0; i < result.length; i++) {
            document.getElementById("closeyest".concat(String(i+1))).innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(yesterday_close[i]);
            document.getElementById("open".concat(String(i+1))).innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(open[i]);
            document.getElementById("amount".concat(String(i+1))).innerHTML = amount[i];
            document.getElementById("result".concat(String(i+1))).innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(result[i]);
        }
        document.getElementById("result4").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(nonNullSum(result));
    </script>

    <script>
        var data = [],
            code_data = [],
            temp = [],
            buy_data = [],
            price_data = [],
            retention_data = [],
            profit_data = [];

        var spreadsheetId = "1K5xSchNJyX7lfygCngh6Vc0tJpDwRdeDL28bhdziaJk",
            url = "https://spreadsheets.google.com/feeds/list/" +
                spreadsheetId +
                "/1/public/basic?alt=json";
        
        var naverstockId = "https://finance.naver.com/item/main.nhn?code="
                
        $.get({
            url: url,
            async: false,
            success: function(response) {
                data = response.feed.entry;
                var len = data.length;
                for (i = 0; i < len; i++) {
                    code_data.push(data[i].content.$t.split(' ')[1].replace(',', ''));
                    buy_data.push(data[i].content.$t.split(' ')[3].replace(',', ''));
                    retention_data.push(data[i].content.$t.split(' ')[7].replace(',', ''));
                    price_data.push(data[i].content.$t.split(' ')[9].replace(',', ''));
                    profit_data.push(data[i].content.$t.split(' ')[11].replace(',', ''));
                }
            }
            
        });
        console.log(code_data);
        for (i = 0; i < code_data.length; i++) {
            console.log(code_data[i]);
            document.getElementById("m1code".concat(String(i+1))).innerHTML = '<a href="https://finance.naver.com/item/main.nhn?code='+code_data[i]+'">'+code_data[i]+'</a>';
            document.getElementById("m1buy".concat(String(i+1))).innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(buy_data[i]);
            document.getElementById("m1price".concat(String(i+1))).innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(price_data[i]);
            document.getElementById("m1retention".concat(String(i+1))).innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(retention_data[i]);
            document.getElementById("m1result".concat(String(i+1))).innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(profit_data[i]);
        }
        var result6 = nonNullSum(profit_data);
        console.log(result6);
        document.getElementById("m1result6").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(result6);
    </script>

    <script>
        const months = [
            'January',
            'February',
            'March',
            'April',
            'May',
            'June',
            'July',
            'August',
            'September',
            'October',
            'November',
            'December'
            ];
        var data = [],
            date = [],
            model1_est = [],
            model2_est = [],
            total = [];
            total_multi_data = [],
            model1_total_multi_data = [],
            model2_total_multi_data = [];
        
        var len;
                
        var dayprofit,
            dayrr;
        var spreadsheetId = "1K5xSchNJyX7lfygCngh6Vc0tJpDwRdeDL28bhdziaJk",
            url = "https://spreadsheets.google.com/feeds/list/" +
                    spreadsheetId +
                    "/4/public/basic?alt=json";

        $.get({
            url: url,
            async: false,
            success: function(response) {
                data = response.feed.entry;
                len = data.length;
                console.log(data);
                for (i = 0; i < len; i++) {
                    date.push(new moment(data[i].title.$t))
                    model1_est.push(data[i].content.$t.split(' ')[1].replace(',', ''));
                    model2_est.push(data[i].content.$t.split(' ')[5].replace(',', ''));
                    total.push(data[i].content.$t.split(' ')[9].replace(',', ''));
                }
                for (i = 0; i < len; i++) {
                    var temp = {};
                    temp['x'] = date[i];
                    temp['y'] = total[i]/total[0];
                    total_multi_data.push(temp);
                }
                for (i = 0; i < model1_est.length; i++) {
                    var temp = {};
                    temp['x'] = date[i];
                    temp['y'] = parseInt(model1_est[i])/parseInt(model1_est[0]);
                    model1_total_multi_data.push(temp);
                }
                for (i = 0; i < model2_est.length; i++) {
                    var temp = {};
                    temp['x'] = date[i];
                    temp['y'] = parseInt(model2_est[i])/parseInt(model2_est[0]);
                    model2_total_multi_data.push(temp);
                }
            }
        });

        // total
        dayprofit = total[len-1] - total[len-2];
        dayrr = (dayprofit/total[len-2])*100;
        totalrr = total[len-1]/total[0];
        totalrr_year = ((Math.pow(totalrr,249/len-1)*total[0] - total[0])/total[0])*100;
        totalest = total[len-1];
        console.log(totalest);

        // model1
        model1_dayprofit = model1_est[len-1] - model1_est[len-2];
        model1_dayrr = (model1_dayprofit/model1_est[len-2])*100;
        model1_totalrr = model1_est[len-1]/model1_est[0];
        model1_totalrr_year = ((Math.pow(model1_totalrr,249/len-1)*model1_est[0] - model1_est[0])/model1_est[0])*100;
        model1_totalest = model1_est[len-1];
        // model2
        model2_dayprofit = model2_est[len-1] - model2_est[len-2];
        model2_dayrr = (model2_dayprofit/model2_est[len-2])*100;
        model2_totalrr = model2_est[len-1]/model2_est[0];
        model2_totalrr_year = ((Math.pow(model2_totalrr,249/len-1)*model2_est[0] - model2_est[0])/model2_est[0])*100;
        model2_totalest = model2_est[len-1];
        console.log(model2_totalrr_year)

        document.getElementById("lastupdate").innerHTML = moment(date[len-1]).format("MMM DD[,] YYYY");
        document.getElementById("DayRateReturn").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 3 }).format(dayrr)+"%";
        document.getElementById("DayProfit").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(dayprofit);
        document.getElementById("TotalRateReturn").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 3 }).format(totalrr_year)+"%";
        document.getElementById("TotalEst").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(totalest);
        document.getElementById("model1rr").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 3 }).format(model1_totalrr_year)+"%";
        document.getElementById("model1est").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(model1_totalest);
        document.getElementById("model2rr").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 3 }).format(model2_totalrr_year)+"%";
        document.getElementById("model2est").innerHTML = Intl.NumberFormat('ko-KR', { maximumSignificantDigits: 6 }).format(model2_totalest);
    </script>

<script>
    var date_data = []
        kosdaq_data = [],
        kospi_data = [],
        kosdaq150_data = [],
        bio_data = [],
        semicond_data = [],
        kosdaq_multi_data = [],
        kospi_multi_data = [],
        kosdaq150_multi_data = [],
        bio_multi_data = [],
        semicond_multi_data = [];
    
    var data = [];

    var spreadsheetId = "1K5xSchNJyX7lfygCngh6Vc0tJpDwRdeDL28bhdziaJk",
        url = "https://spreadsheets.google.com/feeds/list/" +
            spreadsheetId +
            "/2/public/basic?alt=json";

    $.get({
        url: url,
        async: false,
        success: function(response) {
            console.log(response);
            data = response.feed.entry;
            var len = data.length,
                i = 0;
            for (i = 1; i < len; i++) {
                date_data.push(new moment(data[i].title.$t));
                kosdaq_data.push(data[i].content.$t.split(' ')[1].replace(',', ''));
                kospi_data.push(data[i].content.$t.split(' ')[5].replace(',', ''));
                kosdaq150_data.push(data[i].content.$t.split(' ')[9].replace(',', ''));
                bio_data.push(data[i].content.$t.split(' ')[13].replace(',', ''));
                semicond_data.push(data[i].content.$t.split(' ')[17].replace(',', ''));
            }
            for (i = 0; i < len-1; i++) {
                var temp = {};
                temp['x'] = date_data[i];
                temp['y'] = kosdaq_data[i]/kosdaq_data[0];
                kosdaq_multi_data.push(temp);
            }
            for (i = 0; i < len-1; i++) {
                var temp = {};
                temp['x'] = date_data[i];
                temp['y'] = kospi_data[i]/kospi_data[0];
                kospi_multi_data.push(temp);
            }
            for (i = 0; i < len-1; i++) {
                var temp = {};
                temp['x'] = date_data[i];
                temp['y'] = kosdaq150_data[i]/kosdaq150_data[0];
                kosdaq150_multi_data.push(temp);
            }
            for (i = 0; i < len-1; i++) {
                var temp = {};
                temp['x'] = date_data[i];
                temp['y'] = bio_data[i]/bio_data[0];
                bio_multi_data.push(temp);
            }
            for (i = 0; i < len-1; i++) {
                var temp = {};
                temp['x'] = date_data[i];
                temp['y'] = semicond_data[i]/semicond_data[0];
                semicond_multi_data.push(temp);
            }
        }
    });

    var ctx = document.getElementById('myChart').getContext('2d');
    var chart1 = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',

        // The data for our dataset
        data: {
            datasets: [{
                label: 'Balance',
                borderColor: 'rgb(255, 99, 132)',
                pointStyle: 'circle',
                pointRadius: 0,
                lineTension: 0,
                data: total_multi_data
            },{
                label: 'KOSDAQ',
                borderColor: 'rgb(0, 169, 224)',
                pointStyle: 'circle',
                pointRadius: 0,
                lineTension: 0,
                data: kosdaq_multi_data
            }]
        },

        // Configuration options go here
        options: {
            scales: {
                xAxes: [{
                    type: 'time',
                    time: 
                        {
                            // format: 'MM',
                            // unit: 'month',
                            // displayFormats: { month: 'MMM YYYY' }
                            format: 'dd',
                            unit: 'day',
                            displayFormats: { month: 'MMM dd' }
                        }
                }]
            }
        }
    });
    console.log(total_multi_data);
    </script> 

    <script>
        var ctx = document.getElementById('Model1').getContext('2d');
        var chart2 = new Chart(ctx, {
            // The type of chart we want to create
            type: 'line',

            // The data for our dataset
            data: {
                datasets: [{
                    label: 'Balance',
                    borderColor: 'rgb(255, 99, 132)',
                    pointStyle: 'circle',
                    pointRadius: 0,
                    lineTension: 0,
                    data: model1_total_multi_data
                }]
            },

            // Configuration options go here
            options: {
                scales: {
                    xAxes: [{
                        type: 'time',
                        time: 
                            {
                                // format: 'MM',
                                // unit: 'month',
                                // displayFormats: { month: 'MMM YYYY' }
                                format: 'dd',
                                unit: 'day',
                                displayFormats: { month: 'MMM dd' }
                            }
                    }]
                }
            }
        });
    </script> 

    <script>
    var ctx = document.getElementById('ETF-KOSDAQ').getContext('2d');
    var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',

        // The data for our dataset
        data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [{
                label: 'Profit',
                borderColor: 'rgb(255, 99, 132)',
                data: [0, 10, 5, 2, 20, 30, 45]
            },{
                label: 'Index',
                borderColor: 'rgb(146, 207, 191)',
                data: [0, 7, 5, 3, 10, 17, 12]
            }]
        }
    });
    </script>

<script>
    var ctx = document.getElementById('ETF-Bio').getContext('2d');
    var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',

        // The data for our dataset
        data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [{
                label: 'Profit',
                borderColor: 'rgb(255, 99, 132)',
                data: [0, 10, 5, 2, 20, 30, 45]
            },{
                label: 'Index',
                borderColor: 'rgb(146, 207, 191)',
                data: [0, 7, 5, 3, 10, 17, 12]
            }]
        }
    });
    </script> 

<script>
    var ctx = document.getElementById('ETF-SemiCon').getContext('2d');
    var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',

        // The data for our dataset
        data: {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
            datasets: [{
                label: 'Profit',
                borderColor: 'rgb(255, 99, 132)',
                data: [0, 10, 5, 2, 20, 30, 45]
            },{
                label: 'Index',
                borderColor: 'rgb(146, 207, 191)',
                data: [0, 7, 5, 3, 10, 17, 12]
            }]
        }
    });
    </script>

<script>
    var ctx = document.getElementById('Model2').getContext('2d');
    var chart3 = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',

        // The data for our dataset
        data: {
            datasets: [{
                label: 'Balance',
                borderColor: 'rgb(255, 99, 132)',
                pointStyle: 'circle',
                pointRadius: 0,
                lineTension: 0,
                data: model2_total_multi_data
            }]
        },

        // Configuration options go here
        options: {
            scales: {
                xAxes: [{
                    type: 'time',
                    time: 
                        {
                            // format: 'MM',
                            // unit: 'month',
                            // displayFormats: { month: 'MMM YYYY' }
                            format: 'dd',
                            unit: 'day',
                            displayFormats: { month: 'MMM dd' }
                        }
                }]
            }
        }
    });
    </script>  

</body>

</html>
